<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title th:text="'Module: ' + ${module.title}">Module View</title>
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            body {
                background-color: #f8f9fa;
            }

            .card {
                border: none;
                border-radius: 1rem;
            }

            .card-header {
                background-color: #0d6efd;
                color: white;
                border-top-left-radius: 1rem;
                border-top-right-radius: 1rem;
            }

            .video-container {
                border-radius: 0.5rem;
                overflow: hidden;
            }

            .btn-back {
                margin-top: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container mt-5">
            <div class="card shadow">
                <div class="card-header">
                    <h2 class="mb-0" th:text="${module.title}">Module Title</h2>
                </div>
                <div class="card-body">
                    <p class="text-muted" th:text="${module.description}">Module description</p>

                    <!-- VIDEO MODULE -->
                    <div th:if="${module.type.name() == 'VIDEO'}">
                        <h5 class="mt-4">Watch the Video:</h5>
                        <div class="ratio ratio-16x9 video-container mb-4">
                            <iframe th:src="'https://www.youtube.com/embed/' + ${#strings.substringAfter(module.videoUrl, 'v=')}"
                                    frameborder="0" allowfullscreen></iframe>
                        </div>
                    </div>

                    <!-- QUIZ MODULE PLACEHOLDER -->
                    <div th:if="${module.type.name() == 'QUIZ'}">
                        <h5 class="mt-4">Quiz Module</h5>
                        <div class="alert alert-info">
                            This is a quiz module. The quiz interface will be implemented here later.
                        </div>
                    </div>

                    <!-- Back to Modules -->
                    <a th:href="@{'/admin/courses/' + ${module.course.id} + '/modules'}" class="btn btn-outline-primary btn-back">← Back to Modules</a>
                </div>
            </div>

            <!-- Back to Dashboard -->
            <div class="mt-4">
                <a th:href="@{/admin/dashboard}" class="btn btn-outline-secondary">← Back to Dashboard</a>
            </div>
        </div>
    </body>
</html>
